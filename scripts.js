const offcanvas=document.querySelector(".offcanvas"),hamburger=document.querySelector(".navbar-toggler"),stickyTop=document.querySelector(".sticky-top");hamburger.addEventListener("click",(function(){stickyTop.style.overflow="visible"})),offcanvas.addEventListener("hidden.bs.offcanvas",(function(){stickyTop.style.overflow="hidden"}));const rootElement=document.querySelector(":root"),audioIconWrapper=document.querySelector(".audio-icon-wrapper"),audioIcon=document.querySelector(".audio-icon-wrapper i"),song=document.querySelector("#song");let isPlaying=!1;function disableScroll(){const e=window.pageYOffset||document.documentElement.scrollTop,o=window.pageXOffset||document.documentElement.scrollLeft;window.onscroll=function(){window.scrollTo(e,o)},rootElement.style.scrollBehavior="auto"}function enableScroll(){window.onscroll=function(){},rootElement.style.scrollBehavior="smooth",playAudio()}function playAudio(){song.volume=.03,audioIconWrapper.style.display="flex",song.play(),isPlaying=!0}function copyText(e){const o=e.parentElement.querySelector(".number").innerText,n=document.createElement("textarea");n.value=o,document.body.appendChild(n),n.select(),n.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(n),$(e).html("Berhasil disalin!"),setTimeout((function(){$(e).html('<i class="fas fa-fw fa-copy"></i> Copy')}),2e3)}audioIconWrapper.addEventListener("click",(function(){isPlaying?(song.pause(),audioIcon.classList.remove("bi-disc"),audioIcon.classList.add("bi-pause-circle")):(song.play(),audioIcon.classList.add("bi-disc"),audioIcon.classList.remove("bi-pause-circle")),isPlaying=!isPlaying})),disableScroll(),window.addEventListener("load",(function(){const e=document.getElementById("my-form");e&&e.addEventListener("submit",(function(o){o.preventDefault();const n=new FormData(e),t=o.target.action;fetch(t,{method:"POST",body:n}).then((()=>{alert("Konfirmasi kehadiran berhasil terkirim!")})).catch((e=>{alert("Terjadi kesalahan saat mengirim data. Silakan coba lagi.")}))}));const o=new URLSearchParams(window.location.search),n=o.get("n")||"",t=o.get("p")||"Bapak/Ibu/Saudara/i",a=document.querySelector(".hero h4 span");a&&(a.innerText=`${t} ${n},`.replace(/ ,$/,","));const c=document.querySelector("#nama");c&&(c.value=n);const i=document.getElementById("offcanvasNavbar"),l=document.querySelectorAll(".nav-link"),r=new bootstrap.Offcanvas(i);l.forEach((e=>{e.addEventListener("click",(function(){r.hide()}))})),AOS.init({once:!1})})),document.getElementById("my-form")?.addEventListener("submit",(function(e){""===document.getElementById("status").value&&(e.preventDefault(),alert("Konfirmasi wajib dipilih!"))})),$(document).ready((function(){$('a[href="#gift"]').on("click",(function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#gift").offset().top-200},100)}))}));
